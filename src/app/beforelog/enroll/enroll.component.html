<app-top-navigation mode="beforeLog"></app-top-navigation>

<div class="main">
    <!-- <app-second-navigation></app-second-navigation> -->

    <div class="wholeContainer">
        
        <app-sidebar-left mode="beforeLog"></app-sidebar-left>

        <div class="middle-content-beforelog">
            <img src="https://i.ibb.co/ZxJ90GH/Screenshot-2024-06-08-135710.png" alt="Students" style="width:100%;">

            <br>
            <br>
            <div class="form-container">
                <form (submit)="onEnrollSubmit(enrollForm)" method="post" #enrollForm="ngForm">
                    <table style="width: 100%;">
                        <tr>
                            <td>Name with Initials</td>
                            <td><input type="text" name="nameWithInitials" [(ngModel)]="studentData.nameWithInitials" placeholder="Your Name..." required #nameInput="ngModel"></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>
                                <!-- Error message for name -->
                                <div *ngIf="nameInput.invalid && nameInput.touched" class="error-message">
                                    <small *ngIf="nameInput.errors?.['required']">Name is required.</small>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td>Full Name</td>
                            <td><input type="text" name="fullName" [(ngModel)]="studentData.fullName" placeholder="Your Full Name..." required #fullnameInput="ngModel"></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>
                                <!-- Error message for full name -->
                                <div *ngIf="fullnameInput.invalid && fullnameInput.touched" class="error-message">
                                    <small *ngIf="nameInput.errors?.['required']">Full Name is required.</small>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td>Contact Number</td>
                            <td><input type="tel" name="contactNumber" [(ngModel)]="studentData.contactNumber" placeholder="Contact Number..." required pattern="^0\d{9}$" #contactNum="ngModel"></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>
                                <!-- Error message display -->
                                <div *ngIf="contactNum.invalid && (contactNum.dirty || contactNum.touched)" class="error-message">
                                    <small *ngIf="contactNum.errors?.['required']">Contact Number is required.</small>
                                    <small *ngIf="contactNum.errors?.['pattern']">Invalid contact number format.</small>
                                </div>
                            </td>
                        </tr>
                            
                        <tr>
                            <td>Email</td>
                            <td><input type="email" name="email" [(ngModel)]="studentData.email" placeholder="Email Address..." required email #emailInput="ngModel"></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>
                                <div *ngIf="emailInput.invalid && (emailInput.dirty || emailInput.touched)" class="error-message">
                                    <small *ngIf="emailInput.errors?.['required']">Email is required.</small>
                                    <small *ngIf="emailInput.errors?.['email']">Invalid email format.</small>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td>Address</td>
                            <td><textarea name="address" [(ngModel)]="studentData.address" rows="4" required #addressInput="ngModel"></textarea></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>
                                <div *ngIf="addressInput.invalid && (addressInput.dirty || addressInput.touched)" class="error-message">
                                    <small *ngIf="addressInput.errors?.['required']">Address is required.</small>
                                </div>
                            </td>
                        </tr>

                    </table>


        <!-- New File Inputs for Student ID and Birth Certificate -->
    <div>
        <label for="studentIdDocument">Student ID Document:</label>
        <input type="file" id="studentIdDocument" (change)="onStudentIdChange($event)" required>
    </div>

    <div>
        <label for="birthCertificate">Birth Certificate:</label>
        <input type="file" id="birthCertificate" (change)="onBirthCertificateChange($event)" required>
    </div>

<br>
<hr>
                    
<h3>Educational/Professional Qualifications</h3>
                    
                    
<!-- Dynamically generated sections for educational qualifications -->
<div *ngFor="let section of sections; let i = index">
    <h4>Qualification {{ i + 1 }}</h4>
    
    <label for="university-{{ i }}">University</label>
    <input type="text" 
           name="educationalQualifications[{{i}}].university" 
           [(ngModel)]="section.university" 
           required>
    
    <label for="fromDate-{{ i }}">Start Date</label>
    <input type="date" 
           name="educationalQualifications[{{i}}].fromDate" 
           [(ngModel)]="section.fromDate" 
           required>
    
    <label for="toDate-{{ i }}">End Date</label>
    <input type="date" 
           name="educationalQualifications[{{i}}].toDate" 
           [(ngModel)]="section.toDate" 
           required>
    
    <label for="degree-{{ i }}">Degree</label>
    <input type="text" 
           name="educationalQualifications[{{i}}].degree" 
           [(ngModel)]="section.degree" 
           required>
    
    <label for="field-{{ i }}">Field of Study</label>
    <input type="text" 
           name="educationalQualifications[{{i}}].field" 
           [(ngModel)]="section.field" 
           required>
  
    <label for="file-{{ i }}">Attach File</label>
    <input type="file" (change)="onFileChange($event, i)" required>
  
    <button type="button" (click)="removeSection()" *ngIf="sections.length > 1">Remove Section</button>
  </div>
  
  <!-- Add Section Button -->
  <button type="button" (click)="addSection()">Add Section</button>
  

                    <h3>List of Publications</h3>
                    <textarea name="publications" [(ngModel)]="studentData.publications" rows="4" style="width: 100%;"></textarea>
                    
                    
                    <br><br><hr>
                    <h3>Proposed Program of Study</h3>
                    <select name="programOfStudy" [(ngModel)]="studentData.programOfStudy" required #selectProgramInput="ngModel">
                        <option value="PhD">PhD</option>
                        <option value="MPhil">MPhil</option>
                    </select>
                    <div *ngIf="selectProgramInput.invalid && (selectProgramInput.dirty || selectProgramInput.touched)" class="error-message">
                        <small *ngIf="selectProgramInput.errors?.['required']">Program of Study is required.</small>
                    </div>
                    
                    <br><br><hr><br><br>
                    <!-- Error message display -->
                    <div *ngIf="errorMessage" class="error-message">
                        {{ errorMessage }}
                    </div>
                    <input type="submit" value="Submit"><br><br>
                </form>
            </div>
        </div>
    </div>

    <app-footer></app-footer>
</div>


<!-- <app-top-navigation mode="beforeLog"></app-top-navigation>

<div class="main">
    <app-second-navigation></app-second-navigation>

    <div class="wholeContainer">
        
        <app-sidebar-left></app-sidebar-left>

        <div class="middle-content-beforelog">
            <img src="https://i.ibb.co/ZxJ90GH/Screenshot-2024-06-08-135710.png" alt="Students" style="width:100%;">

            <div class="form-container">
                <form action="/submit-form" method="post">
                    <table style="width: 100%;">
                        <tr>
                            <td>Name with Initials</td>
                            <td><input type="text"  name="nameWithInitials" placeholder="Your Name..."></td>
                        </tr>
                        <tr>
                            <td>Full Name</td>
                            <td><input type="text" name="fullName" placeholder="Your Full Name..."></td>
                        </tr>
                        <tr>
                            <td>Contact Number</td>
                            <td><input type="tel" name="contactNumber" placeholder="Contact Number..."></td>
                        </tr>
                        <tr>
                            <td>Email</td>
                            <td><input type="email" name="email" placeholder="Email Address..."></td>
                        </tr>
                        <tr>
                            <td>Address</td>
                            <td><textarea name="address" rows="4"></textarea></td>
                        </tr>
                        <br>
                    </table>
                    <br>
                    <hr>
                    
                    <h3>Educational/Professional Qualifications</h3>
                    
                    <div id="form-sections-container">
                        <div class="form-section" id="original-form-section">
                            <table style="width: 100%;">
                                <tr>
                                    <td>University / Institute</td>
                                    <td><input type="text" name="uni" placeholder="University..."></td>
                                </tr>
                                <tr>
                                    <td>From</td>
                                    <td><input type="text" name="from" placeholder="From..."></td>
                                </tr>
                                <tr>
                                    <td>To</td>
                                    <td><input type="text" name="to" placeholder="To..."></td>
                                </tr>
                                <tr>
                                    <td>Degree</td>
                                    <td><input type="text" name="degree"placeholder="Degree..."></td>
                                </tr>
                                <tr>
                                    <td>Field</td>
                                    <td><input type="text" name="field" placeholder="Field..."></td>
                                </tr>
                                <tr>
                                    <td>Class / Pass</td>
                                    <td><input type="text" name="class" placeholder="Class..."></td>
                                </tr>
                            </table>
                            <br>
                            Attach Files: <input type="file" name="attachment">
                            <br><br>
                        </div>
                    </div>

                    <button type="button" id="add-section">Add Section</button>
                    <button type="button" id="remove-section" style="display:none;">--</button>

                    <hr>

                    <h3>List of Publications</h3>
                    <textarea name="publications" rows="4" style="width: 100%;"></textarea>
                    
                    <br><br><hr>
                    <h3>Proposed Program of Study</h3>
                    <select name="programOfStudy">
                        <option value="program1">PhD</option>
                        <option value="program1">MPhil</option>
                        <option value="program1">Program 1</option>
                        <option value="program2">Program 2</option>
                        
                    </select>
                    
                    <br><br><hr><br><br>
                    <input type="submit" value="Submit" (click)="onEnrollSubmit()"><br><br>
                </form>
            </div>

        </div>

    </div>

    <app-footer></app-footer>
</div> -->
